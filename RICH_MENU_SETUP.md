# LINE リッチメニュー設定ガイド

## 推奨リッチメニュー構成（6分割）

```
┌─────────────┬─────────────┬─────────────┐
│  📝 体重記録  │  📊 グラフ   │  📈 成果    │
│             │             │             │
└─────────────┼─────────────┼─────────────┤
│  ⚙️ 設定    │  ❓ ヘルプ   │  🎯 目標変更  │
│             │             │             │
└─────────────┴─────────────┴─────────────┘
```

## 各ボタンの設定

### 1. 体重記録ボタン
- **表示テキスト**: `📝 体重記録`
- **アクションタイプ**: `postback` または `message`
- **送信テキスト**: `体重記録`

### 2. グラフ表示ボタン
- **表示テキスト**: `📊 グラフ`
- **アクションタイプ**: `postback` または `message`
- **送信テキスト**: `グラフ`

### 3. 今週の成果ボタン
- **表示テキスト**: `📈 成果`
- **アクションタイプ**: `postback` または `message`
- **送信テキスト**: `成果`

### 4. 設定メニューボタン
- **表示テキスト**: `⚙️ 設定`
- **アクションタイプ**: `postback` または `message`
- **送信テキスト**: `設定`

### 5. ヘルプボタン
- **表示テキスト**: `❓ ヘルプ`
- **アクションタイプ**: `postback` または `message`
- **送信テキスト**: `ヘルプ`

### 6. 目標変更ボタン
- **表示テキスト**: `🎯 目標変更`
- **アクションタイプ**: `postback` または `message`
- **送信テキスト**: `目標変更`

## リッチメニューJSON設定例

```json
{
  "size": {
    "width": 2500,
    "height": 1686
  },
  "selected": false,
  "name": "体重記録メニュー",
  "chatBarText": "メニュー",
  "areas": [
    {
      "bounds": {
        "x": 0,
        "y": 0,
        "width": 833,
        "height": 843
      },
      "action": {
        "type": "message",
        "text": "体重記録"
      }
    },
    {
      "bounds": {
        "x": 833,
        "y": 0,
        "width": 834,
        "height": 843
      },
      "action": {
        "type": "message",
        "text": "グラフ"
      }
    },
    {
      "bounds": {
        "x": 1667,
        "y": 0,
        "width": 833,
        "height": 843
      },
      "action": {
        "type": "message",
        "text": "成果"
      }
    },
    {
      "bounds": {
        "x": 0,
        "y": 843,
        "width": 833,
        "height": 843
      },
      "action": {
        "type": "message",
        "text": "設定"
      }
    },
    {
      "bounds": {
        "x": 833,
        "y": 843,
        "width": 834,
        "height": 843
      },
      "action": {
        "type": "message",
        "text": "ヘルプ"
      }
    },
    {
      "bounds": {
        "x": 1667,
        "y": 843,
        "width": 833,
        "height": 843
      },
      "action": {
        "type": "message",
        "text": "目標変更"
      }
    }
  ]
}
```

## 画像作成ガイド

### 画像サイズ
- **幅**: 2500px
- **高さ**: 1686px
- **形式**: PNG または JPEG

### 各エリアのサイズ
- **上段**: 833×843px × 3個
- **下段**: 833×843px × 3個

### デザインポイント
- 背景色: 明るめの色（#F8F9FA推奨）
- アイコン: 大きく見やすく（絵文字 + テキスト）
- テキスト: 読みやすいフォント（ヒラギノ角ゴ or Noto Sans JP推奨）
- ボタン境界: 薄いグレーライン（#E9ECEF）
- アクティブ状態: 薄い青色の背景（#E3F2FD）

### 各ボタンのテキスト内容
```
📝 体重記録    📊 グラフ     📈 成果
⚙️ 設定      ❓ ヘルプ     🎯 目標変更
```

### CSS色設定例
```css
background: #F8F9FA;
border: 1px solid #E9ECEF;
text-color: #495057;
active-background: #E3F2FD;
```

## 設定手順

1. **画像作成**: 上記仕様に従って画像を作成
2. **LINE Developers Console**:
   - Messaging API設定 → リッチメニュー
   - 「作成」をクリック
   - 画像をアップロード
   - 各エリアの座標とアクションを設定
3. **デフォルト設定**: 作成したメニューをデフォルトに設定
4. **テスト**: 実際のLINEアプリで動作確認

## 代替テキスト対応

各ボタンに対して、以下の代替テキストも認識するように設定済み：

- **体重記録**: `体重記録`, `今日の体重を記録`, `記録`
- **グラフ**: `グラフ`, `グラフを表示`, `推移`, `履歴`
- **成果**: `成果`, `今週の成果`, `進捗`
- **設定**: `設定`, `設定メニュー`, `設定確認`
- **ヘルプ**: `ヘルプ`, `help`, `使い方`
- **目標変更**: `目標変更`, `目標を再設定`, `目標設定`

## クイックリファレンス表

| ボタン表示 | 推奨送信テキスト | 代替テキスト | 機能 |
|----------|----------------|------------|------|
| 📝 体重記録 | `体重記録` | `今日の体重を記録`, `記録` | 体重入力のガイド表示 |
| 📊 グラフ | `グラフ` | `グラフを表示`, `推移`, `履歴` | 30日間のグラフ表示 |
| 📈 成果 | `成果` | `今週の成果`, `進捗` | 週間成果の詳細表示 |
| ⚙️ 設定 | `設定` | `設定メニュー`, `設定確認` | 現在設定とBMI表示 |
| ❓ ヘルプ | `ヘルプ` | `help`, `使い方` | 使い方ガイド表示 |
| 🎯 目標変更 | `目標変更` | `目標を再設定`, `目標設定` | 目標体重変更フロー |

## 実装完了チェックリスト

- [x] リッチメニュー用テキスト認識の実装
- [x] 従来コマンドとの重複回避
- [x] 状態管理機能の実装
- [x] ヘルプメッセージの更新
- [x] ドキュメントの整備
- [ ] リッチメニュー画像の作成
- [ ] LINE Developers Consoleでの設定
- [ ] 実機テスト